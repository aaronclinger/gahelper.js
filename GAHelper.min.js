/**
 * @author Aaron Clinger - https://github.com/aaronclinger/gahelper.js
 */
!function($,t,e){"use strict";function n(){var n={},a=!0;n.forceTry=!1,n.timeout=2e3,n.trackerName=null,n.create=function(t){return n.isDefined()||i(),"string"==typeof t&&(t={trackingId:t}),t.name?n.trackerName=t.name=o(t.name):"string"==typeof n.trackerName&&(t.name=o(n.trackerName)),t.cookieDomain=t.cookieDomain||"auto",r()("create",t),n},n.pageview=function(e){var i,o;return e=e||{},e.hitType="pageview",o=c("set",e),e.page||e.location||(r()(o,"location",t.location.toString()),r()(o,"page",t.location.pathname.toString())),e.clearUTM&&(a&&(a=!1,i=e.hitCallback,e.hitCallback=function(t){n.clearUTM(),i&&i(t)}),delete e.clearUTM),n.send(e)},n.event=function(t){return t.hitType="event",n.send(t)},n.send=function(t){var e=!1,a,i,o;return t.hitCallback&&(a=t.hitCallback,i=function(t){e||(e=!0,clearTimeout(o),a(t))},t.hitCallback=function(){i(!0)},o=setTimeout(function(){i(!1)},n.timeout)),n.forceTry||n.isLoaded()||n.isDefined()&&"pageview"===t.hitType?r()(c("send",t),t):t.hitCallback&&t.hitCallback(!1),n},n.clearUTM=function(){var e=t.location.toString();return"history"in t&&"pushState"in t.history&&-1!==e.indexOf("?")&&(e=e.replace(/utm_(?:source|medium|term|content|campaign)=[^\&#]+\&*/gi,""),e=e.replace(/(\?|\&)+(?=$|#)/g,""),t.history.replaceState({},"",e)),n},n.isDefined=function(){return!!r()},n.isLoaded=function(){return n.isDefined()&&r().hasOwnProperty("loaded")&&!0===r().loaded};var i=function(){!function(t,e,n,a,i,r,o){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,r=e.createElement(n),o=e.getElementsByTagName(n)[0],r.async=1,r.src=a,o.parentNode.insertBefore(r,o)}(t,e,"script","//www.google-analytics.com/analytics.js","ga")},r=function(){return t.ga},o=function(t){return t.replace(/^[ \t\n\r]+|[ \t\n\r]+$/g,"")},c=function(t,e){var a=e.name||n.trackerName;return"string"==typeof a&&""!==(a=o(a))?a+"."+t:t},u=function(t){for(var e={},n=t.data("track")||t.data("track-async"),a=n.split(","),i=["eventCategory","eventAction","eventLabel","eventValue"],r=Math.min(4,a.length);r--;)e[i[r]]=o(a[r]);return e},l=function(){var t=$(e),a=function(){n.event(u($(this)))},i=function(t){return"form"===t.prop("tagName").toLowerCase()};t.on("mousedown","[data-track]",function(t){var r=$(this),o="click.GAHelperClick";1!==t.which||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey?r.off(o).on(o,function(){a.call(this)}):r.off(o).on(o,function(t){var a=$(this);if(!i(a)){var r=a.attr("href"),o=a.attr("target"),c=o&&"_blank"===o.toLowerCase(),l=u(a);r&&!c&&(t.preventDefault(),l.hitCallback=function(){e.location=r}),n.event(l)}})}),$("form[data-track]").each(function(){var t=$(this),e=!1;t.submit(function(a){if(!0!==e){var i=u(t);i.hitCallback=function(){e=!0,t.submit()},n.event(i),a.preventDefault()}})}),t.on("submit","form[data-track-async]",a),t.on("click","[data-track-async]",function(){i($(this))||a.call(this)})};return $&&$(e).ready(function(){l()}),n}t.GAHelper=new n}(window.jQuery,window,document);