/**
 * @author Aaron Clinger - https://github.com/aaronclinger/gahelper.js
 */
!function($,t,e){"use strict";function n(){var n={},a=!0,i="navigator"in t&&"sendBeacon"in t.navigator;n.forceTry=!1,n.timeout=2e3,n.trackerName=null,n.create=function(t){return n.isDefined()||r(),"string"==typeof t&&(t={trackingId:t}),t.name?n.trackerName=t.name=c(t.name):"string"==typeof n.trackerName&&(t.name=c(n.trackerName)),t.cookieDomain=t.cookieDomain||"auto",o()("create",t),n},n.pageview=function(e){var i,r;return e=e||{},e.hitType="pageview",r=u("set",e),e.page||e.location||(o()(r,"location",t.location.toString()),o()(r,"page",t.location.pathname.toString())),e.clearUTM&&(a&&(a=!1,i=e.hitCallback,e.hitCallback=function(t){n.clearUTM(),i&&i(t)}),delete e.clearUTM),n.send(e)},n.event=function(t){return t.hitType="event",n.send(t)},n.send=function(t){var e=!1,a,r,c;return t.hitCallback&&(a=t.hitCallback,r=function(t){e||(e=!0,clearTimeout(c),a(t))},t.hitCallback=function(){r(!0)},c=setTimeout(function(){r(!1)},n.timeout)),!t.transport&&i&&(t.transport="beacon"),n.forceTry||n.isLoaded()||n.isDefined()&&"pageview"===t.hitType?o()(u("send",t),t):t.hitCallback&&t.hitCallback(!1),n},n.clearUTM=function(){var e=t.location.toString();return"history"in t&&"pushState"in t.history&&-1!==e.indexOf("?")&&(e=e.replace(/utm_(?:source|medium|term|content|campaign)=[^\&#]+\&*/gi,""),e=e.replace(/(\?|\&)+(?=$|#)/g,""),t.history.replaceState({},"",e)),n},n.isDefined=function(){return!!o()},n.isLoaded=function(){return n.isDefined()&&o().hasOwnProperty("loaded")&&!0===o().loaded};var r=function(){!function(t,e,n,a,i,r,o){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,r=e.createElement(n),o=e.getElementsByTagName(n)[0],r.async=1,r.src=a,o.parentNode.insertBefore(r,o)}(t,e,"script","//www.google-analytics.com/analytics.js","ga")},o=function(){return t.ga},c=function(t){return t.replace(/^[ \t\n\r]+|[ \t\n\r]+$/g,"")},u=function(t,e){var a=e.name||n.trackerName;return"string"==typeof a&&""!==(a=c(a))?a+"."+t:t},l=function(t){for(var e={},n=t.data("track")||t.data("track-async"),a=n.split(","),i=["eventCategory","eventAction","eventLabel","eventValue"],r=Math.min(4,a.length);r--;)e[i[r]]=c(a[r]);return e},f=function(){var t=$(e),a=function(){n.event(l($(this)))},r=function(t){return"form"===t.prop("tagName").toLowerCase()};t.on("mousedown","[data-track]",function(t){var o=$(this),c="click.GAHelperClick";1!==t.which||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey?o.off(c).on(c,function(){a.call(this)}):o.off(c).on(c,function(t){var a=$(this);if(!r(a)){var o=a.attr("href"),c=a.attr("target"),u=c&&"_blank"===c.toLowerCase(),f=l(a);!o||u||i||(t.preventDefault(),f.hitCallback=function(){e.location=o}),n.event(f)}})}),$("form[data-track]").each(function(){var t=$(this),e=!1;t.submit(function(a){if(!e){var r=l(t);i||(a.preventDefault(),r.hitCallback=function(){e=!0,t.submit()}),n.event(r)}})}),t.on("submit","form[data-track-async]",a),t.on("click","[data-track-async]",function(){r($(this))||a.call(this)})};return $&&$(e).ready(function(){f()}),n}t.GAHelper=new n}(window.jQuery,window,document);